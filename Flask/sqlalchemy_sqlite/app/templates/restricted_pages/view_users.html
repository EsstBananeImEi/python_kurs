{% extends 'base.html' %}
{% block content %}
    <h1>_('User List')</h1>    
    
        <a href="{{ url_for('add_user') }} "class="btn btn-dark bi bi-person-plus-fill"></a>  
        <br>
        <br>
        <table class="table table-hover table-bordered table-striped">
            <thead>
                <tr>
                <th scope="col">_('Id')</th>
                <th scope="col">_('Firstname')</th>
                <th scope="col">_('Lastname')</th>
                <th scope="col">_('Username')</th>
                <th scope="col">_('Email')</th>
                <th scope="col">_('About Me')</th>
                <th scope="col">_('Last Seen')</th>
                <th scope="col">_('Admin')</th>
                {% if current_user.administrator %}
                    <th scope="col">_('Actions')</th>
                {% endif %}

                </tr>
            </thead>
            <tbody>
                {% for user in users %}
                    <tr>
                        <th> {{ user.id }} </th>
                        <td>{{ user.firstname }} </td>
                        <td>{{ user.lastname }}</td>
                        <td>{{ user.username }} </td>
                        <td>{{ user.email}}</td>
                        <td>{{ user.about_me}}</td>
                        <td>{{ moment(user.last_seen).fromNow() }}</td>
                        <td>
                            {{ form.admin(class="form-check-input", checked=user.administrator==True, disabled=True) }}
                        </td>
                        {% if current_user.administrator %}
                        <td>
                            <form method="post" action="/">
                                <a type="button" class="btn btn-danger" href="{{ url_for('delete', id=user.id)}}" aria-label="Close">
                                _('Delete')
                                </a>
                                <a type="button" class="btn btn-primary" href="{{ url_for('edit', id=user.id)}}" aria-label="Close">
                                _('Edit')
                                </a>
                            </form>
                        </td>
                            
                        {% endif %}
                    </tr>
                {% endfor %}

                
            </tbody>
        </table>
{% endblock %}